/*
* Kendo UI v2012.1.124 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at http://kendoui.com/license.
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3. For GPL requirements, please
* review: http://www.gnu.org/copyleft/gpl.html
*/

(function(a,b){var c=window.kendo,d=c.ui,e=c.support,f=a.extend,g=a.proxy,h=c.Observable,i,j=d.Widget.extend({init:function(a,e){var f=this,g,h;d.Widget.fn.init.call(f,a,e);for(g in f.options)h=f.element.data(c.ns+g),h!==b&&(f.options[g]=h)},options:{},viewShow:a.noop,enhance:function(a){var b=this.options,d="kendoMobile"+b.name,e=c.roleSelector(b.name.toLowerCase());a.find(e).add(a.filter(e)).attr("data-"+c.ns+"widget",b.name)[d]()}}),k=c.Class.extend({init:function(a){var b=this;a?(b.size="width",b.axis="x"):(b.size="height",b.axis="y")},start:function(a){var b=this;b.location=a},move:function(a){var b=this,c;b.delta=a-b.location,c=b.delta>0,b.direction!=c&&(b._resetDirection(),b.direction=c),b.location=a},end:function(a){var b=this,c=+(new Date)-b.startTime;b.velocity=(a-b.startLocation)/c,b.move(a),delete b.direction},_resetDirection:function(){var a=this;a.startTime=+(new Date),a.startLocation=a.location}}),l="start",m="move",n="end",o=h.extend({init:function(a,b){var c=this,b=b||{};c.x=new k(!0),c.y=new k(!1),h.fn.init.call(c),a.bind("mousedown",g(c._mouseDown,c)),a.bind("mousemove",g(c._mouseMove,c)),a.bind("mouseup mouseleave",g(c._mouseUp,c)),a.bind("touchstart",g(c._touchStart,c)),a.bind("touchmove",g(c._touchMove,c)),a.bind("touchend",g(c._touchEnd,c)),c.bind([l,m,n],b)},_mouseDown:function(a){var b=this;b.pressed||(a.preventDefault(),b.pressed=!0,b._perAxis(l,a))},_touchStart:function(a){var b=this;if(!b.pressed){var c=a.originalEvent;touch=c.changedTouches[0],b.touchID=touch.identifier,b.pressed=!0,b._perAxis(l,touch)}},_touchMove:function(a){var b=this;b.pressed&&b._withTouchEvent(a,function(c){a.preventDefault(),b._perAxis(m,c)})},_touchEnd:function(a){var b=this;b._withTouchEvent(a,function(a){b._mouseUp(a)})},_mouseMove:function(a){var b=this;b.pressed&&(a.preventDefault(a),b._perAxis(m,a))},_mouseUp:function(a){var b=this;b.pressed&&(b.pressed=!1,b._perAxis(n,a))},_perAxis:function(a,b){var c=this;c.x[a](b.pageX),c.y[a](b.pageY),c.trigger(a,c)},_withTouchEvent:function(a,b){var c=this,d=a.originalEvent.changedTouches,e=d.length;while(e){e--;if(d[e].identifier===c.touchID)return b(d[e])}}}),p=c.support.transitions.prefix+"Transform",q=c.Class.extend({init:function(b){var c=this;c.element=a(b),c.domElement=c.element[0],c.x=0,c.y=0},moveBy:function(a,b){var c=this;a&&(c.x+=a),b&&(c.y+=b),c._redraw()},moveTo:function(a,b){var c=this;c.x=a,c.y=b,c._redraw()},_redraw:function(){var a=this,b;e.hasHW3D?b="translate3d("+a.x+"px,"+a.y+"px,0)":b="translate("+a.x+"px,"+a.y+"px)",a.domElement.style[p]=b}}),r=c.Class.extend({init:function(a){var b=this;b.options=a,a.swipe.bind("move",g(b._move,b))},_move:function(a){var b=this,c=b.options,d=c.move,e=c.ignoreX?0:a.x.delta,f=c.ignoreY?0:a.y.delta,g=d.x+e,h=d.y+f;if(g>0||g<c.minX)e*=.5;if(h>0||h<c.minY)f*=.5;d.moveBy(e,f)}});f(c.mobile,{enhance:function(b){var d,e,f=c.mobile.ui;b=a(b);for(d in f)d=f[d],e=d.prototype,e.enhance&&e.options.name&&e.enhance(b)},ui:{plugin:function(a){c.ui.plugin(a,c.mobile.ui,"Mobile")},Widget:j},Swipe:o,Move:q,Draggable:r})})(jQuery)