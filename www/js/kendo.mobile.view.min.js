/*
* Kendo UI v2012.1.124 (http://kendoui.com)
* Copyright 2012 Telerik AD. All rights reserved.
*
* Kendo UI commercial licenses may be obtained at http://kendoui.com/license.
* If you do not own a commercial license, this file shall be governed by the
* GNU General Public License (GPL) version 3. For GPL requirements, please
* review: http://www.gnu.org/copyleft/gpl.html
*/

(function(a,b){function i(){e.android&&window.scrollBy(0,56)}var c=window.kendo,d=c.mobile,e=c.support.mobileOS,f=c.attr,g=c.Class,h=c.roleSelector,j=g.extend({init:function(a,b){var d=this,e=a.data(c.ns+"init"),g=h("content");d.layout=b.layout,d.element=a.data("kendoView",d).addClass("km-view"),d.header=a.find(h("header")).addClass("km-header"),d.footer=a.find(h("footer")).addClass("km-footer"),a.has(g)[0]||a.wrapInner("<div "+f("role")+'="content"></div>'),d.content=a.find(h("content")).addClass("km-content").kendoMobileScroller({useOnDesktop:!0}),d.title=a.data(c.ns+"title"),d.element.prepend(d.header).append(d.footer),d.layout&&d.layout.setup(d),c.mobile.enhance(a),e&&window[e].call(this)},onHideStart:function(){var a=this;a.layout&&a.layout.detach(a)},onShowStart:function(){var b=this;b.element.css("display",""),b.layout&&b.layout.attach(b),b.element.find("[data-"+c.ns+"widget]").each(function(){a(this).data("kendoWidget").viewShow(b)})}}),k=g.extend({init:function(a){this.application=a},replace:function(a,b){var d=this,e=function(){a.element.hide()},f;d.back=b.nextView===a&&JSON.stringify(b.params)===JSON.stringify(c.history.url().params),f=d.application.dataOrDefault((d.back?a:b).element,"transition"),d.parallax=f==="slide",a.onHideStart(),b.onShowStart(),d.back&&!d.parallax?(b.element.css("z-index",0),a.element.css("z-index",1)):(b.element.css("z-index",1),a.element.css("z-index",0)),d.back&&i(),d.switchWith(a.footer,b.footer),d.switchWith(a.header,b.header),d.contents(a,b).kendoAnimateTo(d.contents(b,a),{effects:f,reverse:d.back,complete:e}),d.back||(a.nextView=b)},contents:function(a,b){var c;this.parallax?(c=a.content,b.header[0]||(c=c.add(a.header)),b.footer[0]||(c=c.add(a.footer))):c=a.element;return c},switchWith:function(a,b){a[0]&&b[0]&&a[0]!=b[0]&&this.parallax&&a.kendoAnimateTo(b,{effects:"fade"})}}),l=g.extend({init:function(a){var b=this;b.header=a.find(h("header")).addClass("km-header"),b.footer=a.find(h("footer")).addClass("km-footer"),b.elements=b.header.add(b.footer),c.mobile.enhance(a),a.detach()},setup:function(a){a.header[0]||(a.header=this.header),a.footer[0]||(a.footer=this.footer)},detach:function(a){var b=this;a.header===b.header&&a.element.prepend(b.header.detach().clone(!0)),a.footer===b.footer&&a.element.append(b.footer.detach().clone(!0))},attach:function(a){var b=this;a.header===b.header&&(b.header.detach(),a.element.find(h("header")).remove(),a.element.prepend(b.header)),a.footer===b.footer&&(b.footer.detach(),a.element.find(h("footer")).remove(),a.element.append(b.footer))}});d.Layout=l,d.View=j,d.ViewSwitcher=k})(jQuery)